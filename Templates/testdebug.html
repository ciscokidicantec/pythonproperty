<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Pass Python variable to Javascript</title>
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index,follow">
    <meta name="description" content="kgvode" >
    <meta http-equiv="X-VA-Compatible" content="ie=edge" >
-->    
<!--   <link rel="stylesheet" href="/static/estate.css"> -->
</head>

<body>

    <div id="jsondiv">

        {{stud_json}}

    </div>

    <button onclick="checkjs()">Click me</button>

    <div id="x">
    
    </div>

<script>
    function checkjs(){

        jsonvalue = document.getElementById("jsondiv").innerHTML;
        console.log(jsonvalue);

        jsarray = JSON.parse(jsonvalue);
        console.log(jsarray);

        console.log("Using 2 dimensional scheme for name = " + jsarray[0]["name"]);
        console.log("Using 2 dimensional scheme for name = " + jsarray[1]["name"]);
        console.log("Using 2 dimensional scheme for name = " + jsarray[2]["name"]);
        console.log("Using 2 dimensional scheme for name = " + jsarray[3]["name"]);
        console.log("Using 2 dimensional scheme for name = " + jsarray[4]["name"]);


        for(let loop = 0; loop<jsarray.length; loop++ ){
            console.log("Iside Outer loop show name = " + jsarray[loop]["name"]);
            console.log("Iside Outer loop show name = " + jsarray[loop]["address"]);
            console.log("Iside Outer loop show name = " + jsarray[loop]["price"]);
            console.log("Iside Outer loop show name = " + jsarray[loop]["imagepath"]);


 //           let innerArrayLength = jsarray[loop].length;
 //           for (let j = 0; j < innerArrayLength; j++) {
 //               console.log('[' + loop + ',' + j + '] = ' + jsarray[loop][j]);
 //           }
        }

        for(i = 0; i < jsarray.length; i++) {
            console.log("Name = " + jsarray[i]["name"] + " Address = " + jsarray[i]["address"] + " Json image path = " + jsarray[i]["imagepath"] + "  Foreign Key = " + jsarray[i]["estatelink"] + "  Price = £" + jsarray[i]["price"] + " ID = " + jsarray[i]["id"] + "  Market Date = " + jsarray[i]["onmarketdate"]);
            let img = document.createElement("img");
            img.src = jsarray[i]["imagepath"];
            //img.alt = "£" + myjson[i]["price"];
            img.width = "250";
            let div = document.getElementById("x");
            div.appendChild(img);
            let h1 = document.createElement("h1");
            h1.innerText = "£" + jsarray[i]["price"];
            div.appendChild(h1);
            let h2 = document.createElement("h1");
            h2.innerText = jsarray[i]["name"];
            div.appendChild(h1);
            let h3 = document.createElement("h1");
            let underline = document.createElement("u");
            underline.innerText = jsarray[i]["address"];
            div.appendChild(underline);
        }
    }


</script>

</body>
<html>
